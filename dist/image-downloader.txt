javascript:(function(){if(typeof JSZip=='undefined'){var jszip=document.createElement("script"),jsziputil=document.createElement("script"),filesaver=document.createElement("script");jszip.src="//cdnjs.cloudflare.com/ajax/libs/jszip/3.3.0/jszip.min.js";document.body.appendChild(jszip);jsziputil.src="//cdnjs.cloudflare.com/ajax/libs/jszip-utils/0.1.0/jszip-utils.min.js";document.body.appendChild(jsziputil);filesaver.src="//cdn.jsdelivr.net/npm/file-saver@2.0.2/dist/FileSaver.min.js";document.body.appendChild(filesaver);}setTimeout(makezip,100);function makezip(){console.log("img-downloader start.");var imgs=Object.values(Array.from(document.body.querySelectorAll('img')).reduce(function(pre,curr){if(!pre[curr.src])pre[curr.src]=curr;return pre;},{}));if(imgs.length<=0){alert("%E7%94%BB%E5%83%8F%E3%81%8C%E8%A6%8B%E3%81%A4%E3%81%8B%E3%82%8A%E3%81%BE%E3%81%9B%E3%82%93%E3%81%A7%E3%81%97%E3%81%9F%E3%80%82");document.body.removeChild(overlay);console.log("img-downloader end.");return false;}var zip=new JSZip();for(let i=0;i<imgs.length;i++){let filename=imgs[i].src.match(".+/(.+?)([\?#;].*)?$")[1];zip.file(filename,(function(image_path){console.log(image_path);return%20new%20Promise(function(resolve,reject){JSZipUtils.getBinaryContent(image_path,function(err,data){if(err){reject(err);}else{resolve(data);}});});})(imgs[i].src),{binary:true});}zip.generateAsync({type:"blob"}).then(function(content){saveAs(content,"images.zip");});console.log("img-downloader%20end.");}})();
javascript:(function(){let pathnames=location.pathname.split('/');if(location.origin!='https://github.com'||pathnames[3]!=='commits'){window.alert('%E3%81%93%E3%81%AE%E3%83%96%E3%83%83%E3%82%AF%E3%83%9E%E3%83%BC%E3%82%AF%E3%83%AC%E3%83%83%E3%83%88%E3%81%AFGitHub%E3%81%AE%E3%82%B3%E3%83%9F%E3%83%83%E3%83%88%E4%B8%80%E8%A6%A7%E7%94%BB%E9%9D%A2%E3%81%A7%E5%AE%9F%E8%A1%8C%E3%81%97%E3%81%A6%E3%81%8F%E3%81%A0%E3%81%95%E3%81%84');exit;}if(document.getElementById('bookmarklet-table')){document.getElementById('bookmarklet-table').parentNode.remove();}window.onpopstate=(e)=>{if(document.getElementById('bookmarklet-table')){document.getElementById('bookmarklet-table').parentNode.remove();}return;};window.onbeforeunload=(e)=>{if(document.getElementById('bookmarklet-table')){document.getElementById('bookmarklet-table').parentNode.remove();}return;};let local_storage_name=pathnames[1]+'/'+pathnames[2];current_local_storage=localStorage.getItem(local_storage_name);let commit_ids=[];if(current_local_storage!=null){commit_ids=JSON.parse(current_local_storage);}let copy_buttons=document.getElementsByTagName('clipboard-copy');let bookmarklet_css=document.createElement("style");document.head.appendChild(bookmarklet_css);bookmarklet_css.sheet.insertRule(`#bookmarklet-table{position:fixed;top:5px;right:5px;z-index:10000;background-color:rgba(242,226,220,0.8)!important;border:solid%202px%20rgba(242,120,75,0.8)!important;border-collapse:collapse;font-family:%E6%B8%B8%E3%82%B4%E3%82%B7%E3%83%83%E3%82%AF%E4%BD%93,YuGothic,%E6%B8%B8%E3%82%B4%E3%82%B7%E3%83%83%E3%82%AF%20Medium,Yu%20Gothic%20Medium,%E6%B8%B8%E3%82%B4%E3%82%B7%E3%83%83%E3%82%AF,Yu%20Gothic,sans-serif;}`,0);bookmarklet_css.sheet.insertRule(`#bookmarklet-table%20td{padding:2px%205px;}`,1);bookmarklet_css.sheet.insertRule(`#bookmarklet-clear,#bookmarklet-execute-compare{width:100%;}`,2);let%20bookmarklet_gui_html=`<table%20id='bookmarklet-table'><tr><td>%E6%AF%94%E8%BC%83%E5%85%83%E3%82%B3%E3%83%9F%E3%83%83%E3%83%88ID</td><td%20colspan='2'%20width='300'><small%20id='diff-base'></small></td></tr><tr><td>%E6%AF%94%E8%BC%83%E5%85%88%E3%82%B3%E3%83%9F%E3%83%83%E3%83%88ID</td><td%20colspan='2'width='300'><small%20id='diff-target'></small></td></tr><tr><td></td><td%20width='150'><input%20type='button'%20id='bookmarklet-clear'%20value='%E3%82%AF%E3%83%AA%E3%82%A2'/></td><td%20width='150'><input%20type='button'%20id='bookmarklet-execute-compare'%20value='%E5%B7%AE%E5%88%86%E3%83%9A%E3%83%BC%E3%82%B8%E3%81%AB%E9%81%B7%E7%A7%BB'/></td></tr></table>`;let%20element=document.createElement("div");element.innerHTML=bookmarklet_gui_html;document.body.appendChild(element);let%20diff_base_element=document.getElementById('diff-base');if(commit_ids.length>=1){diff_base_element.innerText=commit_ids[0];}let%20diff_target_element=document.getElementById('diff-target');if(commit_ids.length==2){diff_target_element.innerText=commit_ids[1];}let%20bookmarklet_clear_button=document.getElementById('bookmarklet-clear');let%20bookmarklet_compare_button=document.getElementById('bookmarklet-execute-compare');bookmarklet_clear_button.addEventListener('click',(e)=>{commit_ids=[];localStorage.setItem(local_storage_name,JSON.stringify(commit_ids));diff_base_element.innerText='';diff_target_element.innerText='';});bookmarklet_compare_button.addEventListener('click',(e)=>{if(commit_ids.length==0){alert('%E6%AF%94%E8%BC%83%E5%85%83%E3%81%A8%E6%AF%94%E8%BC%83%E5%85%88%E3%81%AE%E3%82%B3%E3%83%9F%E3%83%83%E3%83%88ID%E3%82%92%E9%81%B8%E6%8A%9E%E3%81%97%E3%81%A6%E3%81%8F%E3%81%A0%E3%81%95%E3%81%84%E3%80%82');}else%20if(commit_ids.length==1){alert('%E6%AF%94%E8%BC%83%E5%85%88%E3%81%AE%E3%82%B3%E3%83%9F%E3%83%83%E3%83%88ID%E3%82%92%E9%81%B8%E6%8A%9E%E3%81%97%E3%81%A6%E3%81%8F%E3%81%A0%E3%81%95%E3%81%84%E3%80%82');}else%20if(commit_ids.length==2){location.href=location.href=location.origin+'/'+pathnames[1]+'/'+pathnames[2]+'/compare/'+commit_ids.join('...');}});Object.keys(copy_buttons).forEach(key=>{let%20copy_button=copy_buttons[key];copy_button.addEventListener('click',(e)=>{if(commit_ids.length==2){alert('%E6%AF%94%E8%BC%83%E5%85%83/%E6%AF%94%E8%BC%83%E5%85%88%E5%85%B1%E3%81%AB%E3%82%B3%E3%83%9F%E3%83%83%E3%83%88ID%E3%81%8C%E3%82%BB%E3%83%83%E3%83%88%E3%81%95%E3%82%8C%E3%81%A6%E3%81%84%E3%81%BE%E3%81%99%E3%80%82%E4%B8%80%E5%BA%A6%E3%82%AF%E3%83%AA%E3%82%A2%E3%81%97%E3%81%A6%E3%81%8F%E3%81%A0%E3%81%95%E3%81%84%E3%80%82');return%20false;}let%20clipboard_copy_element=e.target;if(e.target.localName!='clipboard-copy'){clipboard_copy_element=clipboard_copy_element.closest('clipboard-copy');}let%20commit_id=clipboard_copy_element.value;commit_ids.push(commit_id);localStorage.setItem(local_storage_name,JSON.stringify(commit_ids));if(commit_ids.length==1){diff_base_element.innerText=commit_id;}else%20if(commit_ids.length==2){diff_target_element.innerText=commit_id;}});});})();